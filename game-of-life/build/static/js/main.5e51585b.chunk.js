(this["webpackJsonpgame-of-life"]=this["webpackJsonpgame-of-life"]||[]).push([[0],{47:function(e,t,i){},48:function(e,t,i){},49:function(e,t,i){},55:function(e,t,i){"use strict";i.r(t);var n=i(2),s=i(0),a=i.n(s),l=i(9),r=i.n(l),o=(i(47),i(48),i(19)),u=i(20),c=i(38),h=i(37),d=(i(49),function(){function e(t,i,n){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(o.a)(this,e),this.pos={x:t,y:i},this.width=n,this.x=t,this.isAlive=s}return Object(u.a)(e,[{key:"setState",value:function(e){this.isAlive=e}},{key:"revive",value:function(){this.isAlive=!0}},{key:"draw",value:function(){var e=document.getElementById("2d-plane").getContext("2d");this.isAlive?e.fillStyle="crimson":e.fillStyle="lightblue",e.fillRect(this.pos.x,this.pos.y,this.width,this.width)}}]),e}()),v={id:0,survive:[2,3],revive:[3]},f={id:1,survive:[1,3,5,7],revive:[1,3,5,7]},b={id:2,survive:[3],revive:[3]},j={id:3,survive:[1,3],revive:[3]},g={id:4,survive:[3,4],revive:[3]},p={id:5,survive:[3,5],revive:[3]},m={id:6,survive:[2],revive:[3]},x={id:7,survive:[2,4],revive:[3]},k={id:8,survive:[2,4,5],revive:[3]},O={id:9,survive:[1,2,5],revive:[3,6]},w=function(){function e(t,i,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(o.a)(this,e),this.field=this.createField(t,i,n),this.rows=t,this.cols=i,this.width=n,this.setRule(s)}return Object(u.a)(e,[{key:"setRule",value:function(e){switch(console.log(e),e){case v.id:this.rule=v;break;case f.id:this.rule=f;break;case b.id:this.rule=b;break;case j.id:this.rule=j;break;case g.id:this.rule=g;break;case p.id:this.rule=p;break;case m.id:this.rule=m;break;case x.id:this.rule=x;break;case k.id:this.rule=k;break;case O.id:this.rule=O;break;default:this.rule=v}}},{key:"createField",value:function(e,t,i){for(var n=new Array(e),s=0;s<n.length;s++){n[s]=new Array(t);for(var a=0;a<n[s].length;a++)n[s][a]=new d(s*i,a*i,i,!1)}return n}},{key:"reviveCell",value:function(e,t){this.field[e][t].revive(),this.field[e][t].draw()}},{key:"setRandomPopulation",value:function(){for(var e=0;e<this.field.length;e++)for(var t=0;t<this.field[0].length;t++)this.field[e][t].setState(Math.random()>.5);this.draw()}},{key:"nextGeneration",value:function(){for(var e=this.createField(this.rows,this.cols,this.width),t=0;t<this.field.length;t++)for(var i=0;i<this.field[0].length;i++)this.survive(t,i)?e[t][i].setState(!0):e[t][i].setState(!1);this.field=e,this.draw()}},{key:"draw",value:function(){for(var e=0;e<this.field.length;e++)for(var t=0;t<this.field[0].length;t++)this.field[e][t].draw()}},{key:"survive",value:function(e,t){for(var i=0,n=0,s=0,a=e-1;a<=e+1;a++){n=a;for(var l=t-1;l<=t+1;l++)s=l,n===e&&s===t||((a<0||a>this.field.length-1)&&(n=this.mod(a,this.field.length)),(l<0||l>this.field[0].length-1)&&(s=this.mod(l,this.field[0].length)),this.field[n][s].isAlive&&i++)}return this.ruleSurvive(this.field[e][t].isAlive,i)}},{key:"ruleSurvive",value:function(e,t){return 0!==t&&(e?this.rule.survive.includes(t):this.rule.revive.includes(t))}},{key:"mod",value:function(e,t){return(e%t+t)%t}}]),e}(),y=i(77),C=i(76),S=i(11);i(75);var R=Object(S.a)({root:{color:"gray",height:8},thumb:{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)",top:4,"& *":{background:"transparent",color:"red"}},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(y.a),_=900,M=380,D=function(e){Object(c.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(o.a)(this,i),(n=t.call(this,e)).intervalID=0,n.state={field:new w(90,38,10,0),mouseDown:!1,resolution:10,isRunning:!1,generationCount:0,speed:100,rule:0},n}return Object(u.a)(i,[{key:"componentDidMount",value:function(){this.state.field.draw()}},{key:"animation",value:function(){var e=this;this.setState({isRunning:!0}),this.intervalID=setInterval((function(){e.nextStep()}),this.state.speed)}},{key:"stop",value:function(){this.setState({isRunning:!1}),clearInterval(this.intervalID)}},{key:"nextStep",value:function(){this.state.field.nextGeneration(),this.setState({generationCount:this.state.generationCount+1})}},{key:"randomPopulation",value:function(){this.state.field.setRandomPopulation()}},{key:"clear",value:function(){var e=this;this.setState({generationCount:0,field:new w(Math.ceil(_/this.state.resolution),Math.ceil(M/this.state.resolution),this.state.resolution,this.state.rule)}),setTimeout((function(){e.state.field.draw()}),10)}},{key:"mouseMove",value:function(e){if(this.state.mouseDown){var t=document.getElementById("2d-plane"),i=this.getMousePos(t,e),n=Math.floor(i.x/this.state.resolution),s=Math.floor(i.y/this.state.resolution);this.state.field.reviveCell(n,s)}}},{key:"handleResolutionChange",value:function(e,t){var i=this;this.setState({resolution:t,field:new w(Math.ceil(_/t),Math.ceil(M/t),t,this.state.rule)}),setTimeout((function(){i.state.field.draw()}),10)}},{key:"handleSpeedChange",value:function(e,t){this.setState({speed:t}),this.state.isRunning&&(this.stop(),this.animation())}},{key:"getMousePos",value:function(e,t){var i=e.getBoundingClientRect();return{x:t.clientX-i.left,y:t.clientY-i.top}}},{key:"allowDrawOnCanvas",value:function(){this.setState({mouseDown:!this.state.mouseDown})}},{key:"switchRule",value:function(e){this.setState({rule:parseInt(e.target.value)}),this.state.field.setRule(parseInt(e.target.value))}},{key:"render",value:function(){var e=this,t=this.state,i=t.isRunning,s=t.generationCount;return Object(n.jsxs)("div",{className:"game",children:[Object(n.jsx)("h1",{children:"Game Of Life"}),Object(n.jsx)(C.a,{variant:"outlined",disabled:i,onClick:function(){return e.animation()},children:"Animation"}),Object(n.jsx)(C.a,{variant:"outlined",color:"secondary",onClick:function(){return e.stop()},children:"Stop"}),Object(n.jsx)(C.a,{variant:"outlined",disabled:i,onClick:function(){return e.nextStep()},children:"Next Step"}),Object(n.jsx)(C.a,{variant:"outlined",onClick:function(){return e.randomPopulation()},children:"Random Population"}),Object(n.jsx)(C.a,{variant:"outlined",onClick:function(){return e.clear()},children:"Clear"}),Object(n.jsxs)("select",{className:"select-css",onChange:function(t){return e.switchRule(t)},children:[Object(n.jsx)("option",{value:0,children:"Original Rule (23/2)"}),Object(n.jsx)("option",{value:1,children:"Copy World 1357/1357"}),Object(n.jsx)("option",{value:2,children:"3/3"}),Object(n.jsx)("option",{value:3,children:"13/3"}),Object(n.jsx)("option",{value:4,children:"34/3"}),Object(n.jsx)("option",{value:5,children:"35/3"}),Object(n.jsx)("option",{value:6,children:"2/3"}),Object(n.jsx)("option",{value:7,children:"23/3"}),Object(n.jsx)("option",{value:8,children:"245/3"}),Object(n.jsx)("option",{value:9,children:"125/36"})]}),Object(n.jsxs)("div",{className:"game__resolution__slider",children:[Object(n.jsxs)("div",{className:"game__resolution__slider__label",children:[Object(n.jsx)("h4",{children:"Resolution"}),Object(n.jsx)(R,{disabled:i,valueLabelDisplay:"off","aria-label":"pretto slider",defaultValue:10,min:5,max:40,step:5,onChange:function(t,i){return e.handleResolutionChange(t,i)}})]}),Object(n.jsxs)("div",{className:"game__resolution__slider__label",children:[Object(n.jsx)("h4",{children:"Computation Speed"}),Object(n.jsx)(R,{valueLabelDisplay:"off","aria-label":"pretto slider",defaultValue:100,min:30,max:1020,step:30,onChange:function(t,i){return e.handleSpeedChange(t,i)}})]})]}),Object(n.jsxs)("h4",{children:["Iterations: ",s]}),Object(n.jsx)("canvas",{className:"game_canvas__2dplane",id:"2d-plane",width:_,height:M,onMouseDown:function(){return e.allowDrawOnCanvas()},onMouseUp:function(){return e.allowDrawOnCanvas()},onMouseMove:function(t){return e.mouseMove(t)}})]})}}]),i}(a.a.Component);var I=function(){return Object(n.jsx)("div",{className:"app",children:Object(n.jsx)(D,{})})},A=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,78)).then((function(t){var i=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,l=t.getTTFB;i(e),n(e),s(e),a(e),l(e)}))};r.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(I,{})}),document.getElementById("root")),A()}},[[55,1,2]]]);
//# sourceMappingURL=main.5e51585b.chunk.js.map